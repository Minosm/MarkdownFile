###### 二维码 （2-dimensional bar code）

是用某种特定的几何图形按一定规律在平面（二维方向上）分布的黑白相间的图形记录数据符号信息的。

常用的码制有：Data Matrix, Maxi Code, Aztec, QR Code, Vericode, PDF417, Ultracode, Code 49, Code 16K

###### 矩阵式二维码

最流行莫过于QR CODE ,我们常说的二维码就是它

用点（方点、圆点或其他形状）的出现表示二进制“1”，点的不出现表示二进制的“0”

###### QR(Quick-Response code)码的特点

- 存储容量大

  > 传统的条形码只能处理20位左右的信息量，与此相比，QR码可处理条形码的几十倍到几百倍的信息量。
  >
  > 另外，QR码还可以支持所有类型的数据。（如：数字、英文字母、日文字母、汉字、符号、二进制、控制码等）。
  >
  > 一个QR码最多可以处理7089字(仅用数字时)的巨大信息量。	

- 节省空间

  > QR码使用纵向和横向两个方向处理数据，如果是相同的信息量，QR码所占空间为条形码的十分之一左右。
  >
  > (还支持Micro QR码，可以在更小空间内处理数据)

- 有效性

  > QR码是日本国产的二维码，因此非常适合处理日文字母和汉字。QR码字集规格定义是按照日本标准“JIS第一级和第二级的汉字”制定的，因此在日语处理方面，每一个全角字母和汉字都用13比特的数据处理，效率较高，与其他二维码相比，可以多存储20%以上的信息。

- 容错率

  > QR码具备“纠错功能”，即使部分编码变脏或破损，也可以恢复数据。数据恢复以码字为单位（是组成内部数据的单位，在QR码的情况下，每8比特代表1码字），最多可以纠错约30%（根据变脏和破损程度的不同，也存在无法恢复的情况）.

- 定位

  > QR码从360°任一方向均可快速读取。其奥秘就在于QR码中的3处定位图案，可以帮助QR码不受背景样式的影响，实现快速稳定的读取。

- 数据合并……

  > QR码可以将数据分割为多个编码，最多支持16个QR码。使用这一功能，还可以在狭长区域内打印QR码。另外，也可以把多个分割编码合并为单个数据。



qrcode、zbar、zxing



pyzbar.decode(srcImg)

###### 冗余

二维码具有容错功能，当二维码图片被遮挡一部分后，仍可以扫描出来。

###### 里德所罗门编码

容错的原理是二维码在编码过程中进行了冗余，就像是123被编码成123123，这样只要扫描到一部分二维码图片，二维码内容还是可以被全部读到。

L    7%

M   15%

Q    25%

H   30%

##### 对目前主流手机，在绝大多数扫描场景下，容错率越高，越容易被快速扫描!!!

二维码边上的三个定位框和中间定位小块不能被遮挡。否则容错率再高也无法扫描。

 

###### 纠错码

伽罗瓦域（有限域）finite field /Galois field

其运算结果与参与运算的运算数都在这个域里……

有限域上的多项式编码



###### polygon 多边形

poly-,多，复，聚，-gon,边，词源同knee,heptagon



###### 发票二维码：

例如：

普通发票 左上角的二维码识别出来的结果如下：

01,04,033001800104, 17027572, 255.66, 20180815, 57059471913515394462, 1D27

根据上述信息，可以容易提取出如下内容

033001800104, 发票代码
17027572, 发票号
255.66, 金额
20180815, 开票日期
57059471913515394462, 校验码
1D27,  CRC码 （循环冗余校验）



```
增值税电子普通发票：01,10,011001605111,80100798,64.9,20161018,85342965681116380258

该字符串以逗号分隔每一个属性值，从左到右依次是：
01：第一个属性值，尚未搞清楚含义；
10：第二个属性值，代表发票种类代码，10-增值税电子普通发票，04-增值税普通发票，01-增值税专用发票；
011001605111：第三个属性值，代表发票代码；
80100798：第四个属性值，代表发票号码；
64.9：第五个属性值，代表开票金额；
20161018：第六个属性值，代表开票日期，该值为2016年10月18日；
85342965681116380258：第七个属性值，代码发票校验码，我们都知道增值税专用发票是没有发票校验码的，没有则为空字符串；

另外增值税专用发票和增值税普通发票的二维码中还多了一项属性值

增值税专用发票：01,01,1200154130,03630024,94339.62,20160621,,9335,
　其中“9335”即为多出的属性值，其含义也尚未搞清楚；

增值税普通发票：01,04,4200161350,00015045,165106.00,20160501,48114255542168294433,DBFE,
　其中“DBFE”即为多出的属性值，其含义也尚未搞清楚；
```

