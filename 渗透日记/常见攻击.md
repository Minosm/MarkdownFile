- DDOS
  
  - 抓肉鸡，甚至是IoT devices（物联网设备）
  - 攻击者借助僵尸网络发起的恶意流量攻击，通过流量淹没目标（目标网络 /服务器溢出）
  - 每个僵尸都会通过向目标发送请求来做出响应，这有可能导致目标服务器或网络出现容量溢出的情况，从而导致拒绝正常流量的服务。
  - 由于每个漫游器都是合法的Internet设备，因此很难将攻击流量与正常流量分开。
  
  > DDoS攻击通常通过来自大量受感染的计算机(即僵尸网络)的流量,对目标网站或整个网络进行带宽或资源消耗,使目标无法处理大量数据包,导致服务中断或停止
  
  
  
  ---
  
  - 不同的DDoS攻击媒介针对网络连接的不同组件。
  
    - 七层结构模型
  
    - 尽管几乎所有DDoS攻击都涉及到大量目标设备或网络，但攻击可以分为**三类**。 攻击者可能利用一种或多种不同的攻击媒介，或者潜在地根据目标采取的对策来循环攻击媒介。
  
    - 应用层攻击
  
      -  单个HTTP请求在客户端执行的成本很低，并且对于目标服务器的响应可能很昂贵——容易实现，攻击效率较高
        - 简单的get/post请求
      - HTTP洪水攻击
  
    - 协议攻击
  
      - 协议攻击（也称为状态耗尽攻击）通过消耗Web应用程序服务器或防火墙和负载平衡器之类的**中间资源的所有可用状态表容量**，导致服务中断。 协议攻击利用协议栈的第3层和第4层中的弱点使目标无法访问。
  
        SSYN
  
      - TCP SYN Cookies (一项广泛使用的用来防止SYN-Flooding DOS攻击的防卫机制)来减少穷举ISN所需要花费的时间
  
      - **TCP协议在设计上有一个广为人知的弱点，攻击者能够用数目巨大的SYN包来欺骗服务器. 服务器必须针对每一个SYN请求回送一个SYN-ACK 应答包，此时，服务器就必须保持一条半开放的连接，直到接收到一个对应的ACK应答包为止. 保持如此数目巨大的半开放连接，将会持续消耗掉服务器的资源，直到资源枯竭。服务器将会速度越来越慢，但是客户端的这种攻击却被视作是“合法”的，因为它遵守了TCP协议。这种“合法”的攻击叫做SYN Flooding（SYN泛洪攻击），它也是属于DOS攻击的一种。甚至攻击者只需一点点网络带宽就可以有效地攻陷一台普通的服务器。**
  
      - **TCP洪水**、服务器需要为每个到达的SYN数据包打开一个状态，并将此状态存储在大小有限的表中。该表可能很大，因此很容易发送足够数量的SYN数据包来填充该表，一旦发生这种情况，服务器就会开始丢弃新请求，包括合法请求。在防火墙上也可能发生类似的影响，防火墙也必须处理每个SYN数据包。与其他TCP或应用程序级DDoS攻击不同，
  
      - > 为了保护服务器不被SYN-Flooding攻击, Daniel J. Bernstein 在1996年发明了一项叫做TCP Syn Cookies 的技术.其核心技术是在TCP服务器收到TCP SYN包并返回TCP SYN+ACK包时，不分配一个专门的数据区，而是根据这个SYN包计算出一个cookie值。在收到TCP ACK包时，TCP服务器再根据那个cookie值检查这个TCP ACK包的合法性。如果合法，再分配专门的数据区进行处理未来的TCP连接。 
        >
        > 服务器因此可以不用保持半开放的连接, Syn Cookies只会记住客户端发送的SYN 数据包的一些细节. 例如，当初始 SYN数据包包含了客户端发来的最大分段大小(MSS) 时, 服务器能够利用3个比特的标志位将MSS进行编码 (利用一张8位硬编码MSS值的表). 或是为了确认这个半开放的连接状态会在一段时间后过期，
  
      spoof ed 
  
      > **•SSYN** – SSYN攻击是欺骗性的SYN攻击。在SYN攻击中，攻击者使用大量SYN数据包淹没了受害者的计算机。这种DDoS攻击旨在耗尽受害者的设备。一旦所有连接都装满，服务器将无法响应合法用户，从而导致拒绝服务。在欺骗性SYN攻击中，攻击者运行一个类似的脚本，该脚本欺骗了攻击者的IP地址以防止跟踪攻击者。
      >
      > SRC-IP的全称是什么
      >
      > 是**sorce  ip**， 醉了(￣_,￣ )
      >
      > 
  
      
  
      工作人员在没有得到确认的情况下会收到更多的包请求
  
      不停地等待确认，不停地收到需要等待确认的SYN请求
  
      
  
      半开放连接会消耗服务器资源，每一个半开放连接，服务器都要分配一个通信进程，这样就会耗费很多资源；
  
      
  
      
  
      - 序列号冲突，序列号冲突无法进行交互，，
      - 0-2^32  SEQ范围 (acknowledge确认 syn（synchronize
  
    - （针对容量-volumetric attacks）容量膨胀攻击
  
      - 这类攻击试图通过消耗目标和更大的Internet之间的所有可用带宽来制造拥塞。大量的数据被发送到一个目标，通过使用一种放大的形式或另一种创造大量流量的方法，例如僵尸网络的请求。
  
      - DNS放大攻击；为了提高查询速度，DNS基于UDP
  
        - DNS查询-用大量的UDP数据包淹没受害者
  
        - > 攻击者欺骗了DNS解析器的IP地址，并将其替换为受害者的IP地址，因此所有DNS答复都将发送到受害者的服务器。其次，攻击者找到一个已注册许多DNS记录的Internet域。
  
      - 升级版——NTP反射和放大攻击；（五百多倍）
  
        网络时间协议（Network Time Protocol）的简称
  
      - > It was a very large DDoS targeting a CloudFlare customer,” Matthew Prince, CEO of Cloudflare told SecurityWeek. “We're still gathering the log data to get exact numbers but know it was well over 300Gbps and likely over 400Gbps,” Prince said.
        >
        > “The method was NTP reflection, which is quickly replacing DNS reflection as the source of the largest attacks,” Prince said.
  
      - 利用回复包比请求包大的特点(放大流量),伪造请求包的源IP地址,将应答包引向被攻击的目标
  
    - NTP-16层；123端口  （nntp 119 无关 网络新闻传输协议，新闻组邮件）
  
      和国际 或者国家的时间同步服务器进行时间同步；
  
      但是 **UDP 协议是面向无连接**的，所以客户端发送请求包的源 IP 很容易进行伪造，
  
      monlist命令可以用来获取当前活动IP。
  
      某些网络设备(比如家用路由器)预配置了一个确定的NTP Server，利用monlist就可以找到这些设备。NTP Server会泄露客户机的内网IP。利用该命令还可以进行DDOS攻击。
  
      > NTP协议中Monlist指令可以获取与目标NTP Server进行过同步的最新600个客户机IP。因此一个很小的请求包，就能获取到大量的由IP地址组成的连续UDP包。
  
      取而代之的是**“mrulist”**特性，使用mode6控制报文，并且实现了**握手过程**来阻止对第三方主机的放大攻击？？？
  
      - 防御手段，把 NTP 服务器升级到 4.2.7p26
      - 关闭现在 NTP 服务的 monlist 功能，在ntp.conf配置文件中增加`disable monitor`选项
      - UDP 123 端口
  
  - memcache 服务器漏洞 大部分都是基于UDP的放大反射攻击；
  
    - 由于memcached安全设计缺陷，客户端连接memcached服务器后 无需认证就 可读取、修改服务器缓存内容。
  
    - memcached中的数据像正常网站用户访问提交变量一样会被后端代码处理
  
    - > Memcached是一款开源的高性能分布式内存对象缓存服务,通过缓存来降低对数据库的访问请求
  
    - > 借用正常服务达到攻击的目的 
      >
      > Memcached支持UDP协议的访问请求,并且默认也会将**UDP端口11211对外开放**,因此攻击者只需要通过快速的端口扫描,便可以收集到全球大量没有限制的Memcached服务器,
      >
      > 随后攻击者只需要向Memcached服务器的UDP:11211端口,发送伪造为源IP的攻击目标IP地址的特定指定请求数据包,服务器在收到该数据包后,会将返回数据发送至攻击目标的IP地址
  
  - 端口限速
  
  
  
  **黑客的技术商品化**——DNS，SNMP，NTP，HTTP，TCP和UDP泛洪
  
  > 其他十多种UDP协议,均可以用于反射放大攻击,如:SSDP QOTD SNMP CHARGEN LDAP MEMCACHE WS-DISCOVERY 等 放大倍数从几倍到几万倍,其中部分协议今天仍然非常流行
  
  
  
  SNMP泛洪
  
  - 指不会因短暂停电中断、可以一直供应高品质电源、有效保护精密仪器的电源设备
  
  - UPS Uninteraptable power system
  
  - > 管理信息数据库(MIB) 是一个信息存储库，包含管理代理中的有关配置和性能的数据，按照不同分类，包含分属不同组的多个数据对象
    >
    > 请求流量小，查询结果返回流量大
  
  Scapy是一个Python程序，使用户能够发送，嗅探和剖析并伪造网络数据包。此功能允许构建可以探测，扫描或攻击网络的工具
  
  sniffer
  
  > 地表最强的嗅探和收发包的工具：scapy。scapy是一个python模块，使用简单，并且能灵活地构造各种数据包，是进行网络安全审计的好帮手。
  
  
  
  常用的应对——通告、限速、报文长度学习、白名单、过滤器
  
  物理层面、扩容、框架
  
  ASN 自治系统编号
  
  ---
  
  LOIC是一款专著于web应用程序的Dos/DDOS攻击工具（全名：低轨道离子炮）
  
  它可以用TCP数据包、UDP数据包、HTTP请求于对目标网站进行DDOS/DOS测试，说白了就是一款黑客用来攻击的工具
  
  loic这个工具是直接在链路层进行Flood
  
  
  
  ICMP协议是一种面向无连接的协议，用于传输出错报告控制信息。
  
  ping就在这一层
  
  ---
  
  > 黑洞布线
  >
  > 
  >
  > 几乎所有网络管理员都可以使用的解决方案是创建**黑洞路由**，并将流量汇入该路由。 以最简单的形式，当在没有特定限制条件的情况下实施黑洞过滤时，合法和恶意网络流量都会路由到空路由或黑洞，并从网络中丢弃。 如果某个Internet财产遭受DDoS攻击，则该财产的Internet服务提供商（ISP）可能会将站点的所有流量发送到黑洞中作为防御。
  >
  > 
  >
  > 限速
  >
  > 
  >
  > 限制服务器在特定时间范围内接受的请求数量也是减轻服务拒绝攻击的一种方法。 虽然速率限制有助于减慢Web爬虫窃取内容的速度并减轻暴力登录尝试，但仅靠速率限制可能不足以有效应对复杂的DDoS攻击。 但是，速率限制是有效的DDoS缓解策略中的有用组成部分。 
  >
  > 
  >
  > Web应用防火墙  一套自我学习的规则；
  >
  > 
  >
  > Web应用程序防火墙（WAF）是一种工具，可以帮助缓解第7层DDoS攻击。 通过将WAF放在Internet和原始服务器之间，WAF可以充当反向代理，从而保护目标服务器免受某些类型的恶意流量的侵害。 通过基于用于识别DDoS工具的一系列规则过滤请求，可以阻止第7层攻击。 有效的WAF的一个关键价值是能够快速实施自定义规则以应对攻击。
  >
  > 
  >
  >  通过解析HTTP数据，在不同的字段分别在特征、规则等维度进行判断，判断的结果作为是否拦截的依据从而决定是否放行
  >
  > 
  >
  > 现在市场上大多数的产品是基于规则的WAF。其原理是每一个会话都要经过一系列的测试，每一项测试都由一个或多个检测规则组成，如果测试没通过，请求就会被认为非法并拒绝。
  >
  > 
  >
  > 任播网络扩散
  
  
  
  > WAF  
  >
  > Web应用防火墙是通过执行一系列针对HTTP/HTTPS的安全策略还专门为Web应用提供保护的一款产品。
  >
  > 与传统防火墙不同，WAF工作在应用层。
  
  
  
  > 他是一项信息安全的防护系统，依照特定的规则，允许或是限制传输的数据通过。在网络中，所谓的防火墙是指一种将内网和外网分开的方法，他实际上是一种隔离技术
  >
  > 防火墙对流经它的网络通信进行扫描， 这样就能够过滤掉一些攻击，以免其在目标计算机上执行。
  >
  > 通常的防火墙主要工作第二到第四层，重心是在网络层，用于过滤IP和协议类型。
  
  > IDS (Intrusion Detection System) 入侵检测系统
  >
  > 依照一定的安全策略，通过软件、硬件、对网络、系统的运行状况进行监视尽可能的发现各种攻击企图、攻击行为或者攻击结果，以保证网络系统资源的机密性、完整性和可用性。
  >
  > 入侵检测检测可分为实时入侵检测和事后入侵检测。
  
  > IPS (Intrusion Prevention System) 入侵预防系统
  >
  > IPS是对防病毒软件和防火墙的补充，入侵预防系统是一部能够监视网络或网络设备的网络资料传输行为的计算机网络安全设备，能够即时的中断、调整或隔离一些不正常或是具有伤害性的网络资料传输行为。
  
  > 访问控制列表(ACL)是一种基于包过滤的 访问控制技术，它可以根据设定的条件对接口上的数据包进行过滤，允许其通过或丢弃。访问控制列表被广泛地应用于路由器和三层交换机，借助于访问控制列表，可以有效地控制用户对网络的访问，从而最大程度地保障网络安全。
  >
  > 限制网络流量、提高网络性能
  >
  > 应用在路由器接口的指令列表
  
  - CDN（内容分发网络-Content Delivery Network） 
  - SENSS
  - SENSS可以在当今的基础架构中部署，
  
- DNS

- Web

- SSL

- 爬虫

- 云？

- 访问管理
  
  - SSO

简单的爬虫框架 scrapy







网页篡改？挂马？安全联盟？

流量攻击：

- CC攻击？（代理服务器）
- DDOS
- 数据库攻击
  - SQL注入（数据库防火墙？）
- 恶意扫描？（端口）
- 域名攻击？
  - DNS域名劫持？
  - 域名被盗
  - 域名泛解析







**socket** 中存储了特定的四元组： 源ip+port，目的ip+port；

 socket 呢，是网络编程中的概念，对TCP/IP协议进行了抽象和实现，并为应用层提供接口。

![image-20201018185225740](C:\Users\Minos Chen\AppData\Roaming\Typora\typora-user-images\image-20201018185225740.png)









跨站脚本攻击——XSS（Cross-site scripting）

XSS涉及第三方

- 存储型XSS，一般在留言板等，可以接受输入的地方出现；
  - 恶意HTML——进入数据库——web程序——用户浏览器
- 反射型XSS，主要做法是将脚本代码加入URL地址的请求参数里，请求参数进入程序后在页面直接输出，用户点击类似的恶意链接就可能受到攻击。

不要相信用户的任何输入，并过滤掉输入中的所有特殊字符。这样就能消灭绝大部分的XSS攻击。

> （1）持久型跨站：最直接的危害类型，跨站代码存储在[服务器](https://baike.baidu.com/item/服务器)（数据库）。（2）非持久型跨站：反射型跨站脚本漏洞，最普遍的类型。用户访问服务器-跨站链接-返回跨站代码。（3）[DOM](https://baike.baidu.com/item/DOM)跨站（DOM XSS）:DOM(document object model文档对象模型)，客户端脚本处理逻辑导致的安全问题。
>
> AJAX应用架构会泄漏更多应用的细节，如函数和变量名称、函数参数及返回类型、数据类型及有效范围等。AJAX应用架构还有着较传统架构更多的应用输入，这就增加了可被攻击的点。
>
> 验证所有输入数据，有效检测攻击；对所有输出数据进行适当的编码，以防止任何已成功注入的脚本在浏览器端运行。



SQL查询代码，程序在接收后错误的将攻击者的输入作为查询语句的一部分执行，导致原始的查询逻辑被改变，额外的执行了攻击者精心构造的恶意代码。



> `SELECT * FROM user WHERE username='' and password=''`, 经过参数拼接后，会执行 SQL语句 
>
> `SELECT * FROM user WHERE username='' and password='' OR '1'='1'`，这个时候1=1是成立，自然就跳过验证了。

DROP TABLE user;--

预编译语句(PreparedStatement)，这样的话即使我们使用 SQL语句伪造成参数，到了服务端的时候，这个伪造 SQL语句的参数也只是简单的字符，并不能起到攻击的作用。

**预编译**指的是数据库驱动在发送 sql 语句和参数给 DBMS 之前对 sql 语句进行编译，这样 DBMS 执行 sql 时，就不需要重新编译。

> 除了提高安全性，预编译还可以实现复用，避免重新编译，提高运行效率



**(Structured English Query Language)**

据我观察，中国的开发者创造了一种独特的SQL发音：**/'sɜːkl/**，既好听，又好读，挺好的。但是今年我开始做数据库相关的工作，作为一个专业人士，决定对SQL发音进行一些考证。

很多人沿用了/ˈsiːkwəl/这个读音，因为这门语言以前叫做“SEQUEL”。但更官方一些的读音应该是ISO标准规定的/ˌɛsˌkjuːˈɛl/



大型数据库——oracle

中型数据库——my sql  &  sql sever

小型数据库——sqlite



![63d0f703918fa0ec1042e59627483be83f6ddb8d](C:\Users\Minos Chen\Desktop\63d0f703918fa0ec1042e59627483be83f6ddb8d.jpeg)





把SQL命令插入到**Web表单提交**或**页面请求url的查询字符串**，最终达到欺骗服务器执行恶意的SQL命令



即使参数里有敏感字符如 or '1=1’也数据库会作为一个参数一个字段的属性值来处理而不会作为一个SQL指令	

SELECT * From table_name WHERE name=’’ and password=’’ and corporate="'or 1=1–"

输入的一串，都被揉在一起，作一个参数，而不是SQL。



> XSS是指恶意攻击者**利用**网站没有对用户提交数据进行转义处理或者过滤不足的**缺点**，进而添加一些代码，嵌入到web页面中去。使别的用户访问都会执行相应的嵌入代码。
>
> 从而盗取用户资料、利用用户身份进行某种动作或者对访问者进行病毒侵害的一种攻击方式。

4.将木马伪装为缺失的组件，或和缺失的组件捆绑在一起（例如：flash播放插件）。这样既达到了下载的目的，下载的组件又会被浏览器自动执行。





shellcode ???

- 漏洞利用中必不可缺的部分就是shellcode，shellcode能在极小的空间内完成一些基本而重要的工作。
- 十六进制操作码
- 采用像C这样的高级语言编写程序，编译后，进行反汇编以获取汇编指令和十六进制操作码
- 编译汇编程序，将该程序汇编，然后从二进制中提取十六进制操作码



**缓冲区溢出漏洞**

软件漏洞

main 函数调用的时候会把数据压入**执行栈**，

> eax, ebx, ecx, edx, esi, edi, ebp, esp等都是X86 汇编语言中CPU上的通用寄存器的名称，是32位的寄存器。如果用C语言来解释，可以把这些寄存器当作变量看待。

本地buff

缓冲区溢出，改地址？

格式化字符串漏洞





---









程序执行的内存布局？

关键词：User space  Kernel space  Linux  栈区、堆区 malloc算法 Linus的堆空间分配 

context switch 环境切换

> User space 执行的是较为简单的运算，执行的运算不影响其他程序的执行，并且不能直接调用系统资源，必须通过系统接口（又称 system call），才能向内核发出指令。
>
> 其实，在用户空间，几乎所有内核资源在用户空间都是可以访问的（必须有相应的权限），即使是操作系统内核的大脑（调度程序

> **栈 (stack)** 是现代计算机程序里最为重要的概念之一，几乎每一个程序都使用了栈，没有栈就没有函数，没有局部变量，也就没有我们如今能够看见的所有的计算机语言

#### **堆栈帧**

> 栈保存了一个函数调用所需要的维护信息，这常常被称为堆栈帧(Stack Frame)或活动记录(Activate Record)，堆栈帧一般包括如下几方面内容：
>
> > **1、函数的返回地址和参数。**
> > **2、临时变量:包括函数的非静态局部变量以及编译器自动生成的其他临时变量。**
> > **3、保存的上下文:包括在函数调用前后需要保持不变的寄存器。**



我们知道系统调用的性能开销是很大的，当程序对堆的操作比较频繁时，这样做的结果是会严重影响程序的性能的。

**比较好的做法就是：程序向操作系统申请一块适当大小的堆空间，然后由程序自己管理这块空间，而具体来讲，管理着堆空间分配的往往是程序的运行库。**

运行库相当于是向操作系统 **“批发”** 了一块较大的堆空间，然后 “零售” 给程序用。

当全部“售完”或程序有大量的内存需求时，再根据实际需求向操作系统“进货”。

EIP 下一个指令的地址

EBP 栈的基地址

ESP 栈顶地址



GDB调试？ GNU Debugger

![image-20201019000307522](C:\Users\Minos Chen\AppData\Roaming\Typora\typora-user-images\image-20201019000307522.png)

构建EIP地址，精确溢出（覆盖）缓冲区溢出

？？？shell反弹 特别的shell代码？？

完成栈溢出之后，我们需要在dll中找到J（U）MP ESP的指令，跳板

都是在dll中找到对应函数的地址，然后借用？

shellcode 

freebuf 看雪 seebug

![image-20201019002145397](C:\Users\Minos Chen\AppData\Roaming\Typora\typora-user-images\image-20201019002145397.png)





SHH打洞；

![image-20201019002454380](C:\Users\Minos Chen\AppData\Roaming\Typora\typora-user-images\image-20201019002454380.png)





网页上发布包含攻击性代码的数据。当浏览者看到此网页时，特定的脚本就会以浏览者用户的身份和权限来执行







  **CSRF概念：**CSRF跨站点请求伪造(Cross—Site Request Forgery)，跟XSS攻击一样，存在巨大的危害性，

盗用身份；CSRF（Cross-site request forgery）跨站请求伪造，也被称为“One Click Attack”或者Session Riding

根据 HTTP 协议，在 HTTP 头中有一个字段叫 Referer，它记录了该 HTTP 请求的来源地址。

- #### 验证 HTTP Referer 字段

- #### 加验证码验证

- #### 使用 token （Anti CSRF Token）



VOIP协议改号？

- 猫池是一个可以一次同时收发多条短信的设备。猫池拥有通信模块，根据不同的型号，猫池可以同时插上8、16或128张手机卡并同时收发短信。

WAF 规则过滤，机器学习

难以绕过；

web application firewall

http攻击、web漏洞太多了

**WAF核心思想**：

- 黑名单、白名单
- 特征匹配、漏洞签名
- 拦截、记录（匹配结果相应）

云waf最常见、

部署：

- DNS解析

- 串联模式（硬件）

  - 透明（不改网络拓扑结构）
  - 不透明（改动

- 旁路模式（流量镜像，不能拦截

  - 快
  - 交换机上

  waf单点故障？

软件嵌入中间件？检测引擎？（完美）



WAF通用性，无法完全覆盖

- 架构绕过
- 规则缺陷/特性
- 协议（）



CSRF利用了当前网站的验证力度不够，session存在就是登录状态

尽量使用post，而非get

加入验证码，伪请求；是用户

refer不同，可以拒绝；某些浏览器可以篡改refer

完全伪造用户请求，利用用户cookie

加入token验证，唯一值，随机的

自定义header？

Anti CSRF token



IP判断子网，MAC子网广播



网络层，主机到主机

传输层，端口到端口

IP+端口=套接字（socket）



Dynamic Host Configuration Protocol,动态主机配置协议

XSS基于js的，操作html、浏览器、css

sql注入是数据库

xss浏览器，客户端

- 注入到服务器
- 用户再访问
- 客户端触发

格式化溢出：越界访问

   当printf在输出格式化字符串的时候，会维护一个内部指针，当printf逐步将格式化字符串的字符打印到屏幕，当遇到%的时候，printf会期望它后面跟着一个格式字符串，因此会递增内部字符串以抓取格式控制符的输入值。这就是问题所在，printf无法知道栈上是否放置了正确数量的变量供它操作，如果没有足够的变量可供操作，而指针按正常情况下递增，就会产生越界访问



挂马，在网页里放木马



HTTPS = HTTP + SSL

安全通信 三个特性 

机密性、数据完整性、（端点）服务端（客户端）鉴别

secure socket layer——TCP之上

- 握手
- 密钥导出
- 数据传输

CC、



WEB常见

网站、Web应用程序和Web服务;

快应用服务架构也属于web

XSS:

SQL注入:

DDOS?:

内存损坏:

缓冲区溢出:

CSRF:

**数据泄露:**

DNS安全:

---

**应对:WAF**







JS可以访问cookie,可以创建HTTP请求(发送给渗透者)

获取一些API(地理位置,摄像头)

反射式:

- 当受害者在 Web 浏览器中加载此链接时，浏览器将执行注入到 url 中的代码

URL 末尾的代码可能是恶意的。

持久式:

- XSS,缺少对用户输入的良好验证;

避免:

避免用户输入HTML,CSDN就是用markdown;

验证输入;

清理数据;

禁止JS访问cookie,或者绑定cookie到IP

WAF

代码注入技术;







TSL所有权改变，不再是网景公司的

 IETF 



- 报文鉴别
- 数字签名
- 公钥认证
- 端点鉴别

安全通信特征：

- 机密性
  - 加密和解密算法都是公开的
  - 秘密信息？——密钥

密文：明文+加密算法+密钥

明文：密文+加密算法+密钥

两张



对称密钥、公开密钥、密码散列函数

相同密钥；对称

散列函数：数据指纹



文件签名，（独特的加密）

概述hash，



公开密钥系统（通信实体）：

- 完整性（不能篡改）
- 端点鉴别（身份）、
- 运行安全性

















软件工程

Database programming with RDBMS

 数据结构

操作系统\计算机网络\ 计算机组成原理

ORACLE数据库\Android application development

 ASP.NET

Script及AJAX开发技术

software Testing

JavaEE 信息安全技术

微机原理与接口技术











陈述性知识,程序性知识;



参数化查询，对象关系映射；

用户输入的转义；

API权限限制

DDOS和DNS劫持用于掩盖清扫 SQL 注入攻击的实施

重定向到伪造的站点；

- **DNSSEC** 通过对数据进行数字签名来防止攻击，以帮助确保其有效性。为确保进行安全查找，此签名必须在 DNS 查找过程的每个级别进行。

数字签名，只保证数据完整性与来源鉴定；

- DNSSEC 应与其他安全措施配合使用，例如 [SSL/TLS](https://www.cloudflare.com/zh-cn/learning/cdn/cdn-ssl-tls-security)。

**DNS 隧道：**这种攻击使用其他协议通过 DNS 查询和响应建立隧道

**DNS 劫持：**在 DNS 劫持中，攻击者将查询重定向到其他域名服务器。这可通过恶意软件或未经授权的 DNS 服务器修改来实现。尽管其结果与 DNS 欺骗的结果相似，但这是一种截然不同的攻击，因为其目标是域名服务器上网站的 DNS 记录，而不是解析器的高速缓存。

这是一种 DNS 洪水攻击，攻击者利用请求淹没 DNS 服务器，从而请求不存在的记录，以试图导致合法流量的[拒绝服务](https://www.cloudflare.com/zh-cn/learning/ddos/glossary/denial-of-service)



攻击DNS解析器：

- 伪造的、幻域攻击、DNS洪水

过度配置基础设施



Customer Premise Equipment



anycast 路由（广播路由）

Anycast 的特征是许多关联中的一对一，并且是 Internet 协议中使用的 5 种主要网络协议方法之一。

在 Anycast 网络中，主要流量不是由一台源站服务器来承担，其负载可以分散到其他可用的数据中心，每个数据中心都具有能够处理和响应传入请求的服务器

广播路由防止DDOS



正确实施 Anycast 的 CDN 可以扩大接收网络的表面积

![image-20201022000627209](C:\Users\Minos Chen\AppData\Roaming\Typora\typora-user-images\image-20201022000627209.png)

DNS 请求和响应使用 UDP 或用户数据报协议，而不是使用 TCP，TCP 会要求通信双方都进行“握手”来启动通信并验证设备的身份。在使用 UDP 时，不保证连接已打开，接收者已准备好接收，或者发送者就是它们所说的发送者。因此 UDP 很容易伪造 – 攻击者可通过 UDP 发送消息，并通过伪造标头数据来假装这是来自合法服务器的响应。

劫持，电子邮件劫持；

 SSL/TLS，在用户和 Web 服务之间创建安全连接。不幸的是，这不是万无一失的解决方案，因为一些更复杂的中间人攻击可以绕过 SSL/TLS 保护

 Web 服务实施了HTTP 严格传输安全（HSTS

否则程序将覆盖缓冲区附近的内存中的数据	

由于 SSL 软件中的缓冲区溢出漏洞，一种被称为“心脏出血”的威胁使亿万用户受到攻击。

Heartbleed模块存在一个BUG

当攻击者构造一个特殊的数据包，满足用户心跳包中无法提供足够多的数据会导致memcpy把SSLv3记录之后的数据直接输出，该漏洞导致攻击者可以远程读取存在漏洞版本的openssl服务器内存中长大64K的数据。

心跳(heartbeat)机制来维持TLS链接的长期存在，心跳机制是作为TLS的扩展实现

边界的[检测](http://www.freebuf.com/sectool/33191.html)

如果程序的内存布局定义明确，则攻击者可以故意覆盖已知包含可执行代码的区域

C 和 C++ 是两种脆弱性较高的热门语言

- **地址空间随机化**
- **防止数据执行**

整数溢出攻击

Unicode溢出

用途最广的三大**身份验证因素**是：

- 用户了解的内容
- 用户拥有的内容
- 用户身份

IDaaS

Software-as-a-Service



![image-20201022010635173](C:\Users\Minos Chen\AppData\Roaming\Typora\typora-user-images\image-20201022010635173.png)